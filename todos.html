<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <div class="content"></div>
    <script type="text/jsx;harmony=true">
        var MyList = React.createClass({
            "onFormSubmit": function (evt) {
                evt.preventDefault();

                this.props.onSubmit(this.refs.myinput.getDOMNode().value);
                this.refs.myinput.getDOMNode().value = "";
            },
            "render": function () {
                return <div>
                    <input ref="myinput" type="text" />
                    <button onClick={this.onFormSubmit}>{this.props.children}</button>

                    <ul>
                        {this.props.todos.map(function (todo) {
                            return <li>{todo}</li>;
                        })}
                    </ul>
                </div>;
            }
        });

        var todos = [];

        function onSubmit(todoText) {
            todos = todos.concat(todoText);

            React.render(<MyList todos={todos} onSubmit={onSubmit}>Add item</MyList>, document.body);
        }

        React.render(<MyList todos={todos} onSubmit={onSubmit}>Add first item</MyList>, document.body);
    </script>
    <script type="text/javascript" src="/bower_components/react/react-with-addons.min.js"></script>
    <script type="text/javascript" src="/bower_components/react/JSXTransformer.js"></script>

</body>
</html>
