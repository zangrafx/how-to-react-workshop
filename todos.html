<!DOCTYPE html>
<html>
    <head>
        <title></title>
    </head>
    <body>
        <script type="text/jsx;harmony=true">
            var MyList = React.createClass({
				getInitialState: function() {
				  return {data: this.props.todos};
			    },
                "onFormSubmit": function (evt) {
                    evt.preventDefault();

                    var todos = this.props.onSubmit(this.refs.myinput.getDOMNode().value);
					
					this.setState({data: todos});
                },
                "render": function () {
					var todosItems = this.state.data.map(function (todo) {
                                return <li>{todo}</li>;
                            });
							debugger;
                    return <div>
                        <input ref="myinput" type="text" />
                        <button onClick={this.onFormSubmit}>Click me!</button>
                        <ul>
                            {todosItems}
                        </ul>
                    </div>;
                }
            });

            var todos = [
                "kupić mleko",
                "posptrzątać w domu"
            ];

            function onSubmit(todoText) {
                todos = todos.concat(todoText);

                console.log(todoText);
				
				return todos;
            }

            React.render(<MyList todos={todos} onSubmit={onSubmit} />, document.body);
        </script>

        <script src="/bower_components/react/react-with-addons.js"></script>
        <script src="/bower_components/react/JSXTransformer.js"></script>
    </body>
</html>
